---
layout: post
title:  "Jmeter IF controller - example"
date:   2016-03-14 21:09:24 +0100
categories: test-automation
tags: jmeter
---

<p><a href="http://jmeter.apache.org/usermanual/component_reference.html#If_Controller">If controller </a> example to control which request to send based on response of the other sampler.</p>
<p>We're using <a href="http://jmeter-plugins.org/wiki/DummySampler/">Dummy Sampler</a> to generate requests.</p>
<p>We also need to extract response's code. We can use <a href="http://jmeter.apache.org/usermanual/regular_expressions.html">Regular Expression Extractor</a> to get it:</p>
<ul>
<li>Field to check: Response Code</li>
<li>Reference Name: RESPONSE_CODE</li>
<li>Regular Expression: (\d+)</li>
<li>Template $1$</li>
</ul>
<p>First If Controller Condition</p>
<ul>
<li>
<pre>${RESPONSE_CODE}!="200"</pre>
</li>
</ul>
<p>Second If Controller Condition</p>
<ul>
<li>
<pre> ${RESPONSE_CODE}=="200"</pre>
</li>
</ul>
<p>Setup Dummy Sampler to return code 200.</p>
<p><img class="alignnone size-full wp-image-180" src="{{ site.baseurl }}/assets/dummy-sampler-200.png" alt="Dummy Sampler - 200" width="750" height="356" /></p>
<p>Result:</p>
<p><img class="alignnone size-full wp-image-157" src="{{ site.baseurl }}/assets/if-controller-yes-condition.png" alt="if controller - yes condition" width="636" height="251" /></p>
<p>And now edit it to return something other than 200</p>
<p><img class="alignnone size-full wp-image-181" src="{{ site.baseurl }}/assets/dummy-sampler-404.png" alt="Dummy Sampler - 404" width="741" height="387" /></p>
<p>Result:</p>
<p><img class="alignnone size-full wp-image-186" src="{{ site.baseurl }}/assets/if-controller-result.png" alt="If Controller result" width="598" height="291" /></p>
<p>&nbsp;</p>
